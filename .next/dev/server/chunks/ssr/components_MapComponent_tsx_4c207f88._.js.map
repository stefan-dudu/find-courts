{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefandudu/Desktop/find-courts/components/MapComponent.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport Map, { Marker, Popup } from \"react-map-gl/mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { useTranslation } from \"react-i18next\";\nimport { CourtLocation, CourtType } from \"@/types/courts\";\n\nconst MAPBOX_TOKEN = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\n\nconst MapComponent = () => {\n  const [courts, setCourts] = useState([]);\n  const [popupInfo, setPopupInfo] = useState<any>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    fetchCourts();\n  }, []);\n\n  const fetchCourts = async () => {\n    try {\n      const response = await fetch(\n        process.env.NEXT_PUBLIC_COURT_GET_LINK || \"\"\n      );\n      const data = await response.json();\n      setCourts(data.body); // Adjusted to match your example response structure\n    } catch (error) {\n      console.error(\"Error fetching courts:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: \"center\", marginTop: \"20px\" }}>\n        <CircularProgress />\n        <p>{t(\"loading.mapInfo\")}</p>\n      </div>\n    );\n  }\n\n  return (\n    // <div style={{ height: \"500px\", width: \"100%\" }}>\n    <div>\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80\"\n      >\n        <div\n          style={{\n            clipPath:\n              \"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)\",\n          }}\n          className=\"relative left-[calc(50%-11rem)] aspect-1155/678 w-144.5 -translate-x-1/2 rotate-30 bg-linear-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-288.75\"\n        />\n      </div>\n      <Map\n        initialViewState={{\n          longitude: 26.10249131839039,\n          latitude: 44.42677583105836,\n          zoom: 11.5,\n        }}\n        // style={{ width: \"100%\", height: \"100%\" }}\n        style={{\n          position: \"relative\",\n          width: \"100%\",\n          height: \"70vh\",\n        }}\n        // mapStyle=\"mapbox://styles/mapbox/outdoors-v12\"\n        // mapStyle=\"mapbox://styles/stefan01-dev/cm657r5k900c401sgbcuofev4\"\n        mapStyle=\"mapbox://styles/stefan01-dev/cmhvtbqtw00fv01qu4tkreear\"\n        mapboxAccessToken={MAPBOX_TOKEN}\n      >\n        {courts.length > 0 &&\n          courts.map((court: CourtLocation) => (\n            <Marker\n              key={court.locationID}\n              longitude={court.coordinates[1]}\n              latitude={court.coordinates[0]}\n              anchor=\"bottom\"\n              onClick={(e) => {\n                e.originalEvent.stopPropagation(); // Prevent map click from triggering\n                setPopupInfo(court);\n              }}\n            ></Marker>\n          ))}\n\n        {popupInfo && (\n          <Popup\n            longitude={popupInfo.coordinates[1]}\n            latitude={popupInfo.coordinates[0]}\n            anchor=\"top\"\n            onClose={() => setPopupInfo(null)}\n            closeOnClick={false}\n            offset={-15}\n          >\n            <div>\n              <h2>{popupInfo.courtName}</h2>\n              <p>\n                {t(\"map.noOfCourts\")} {popupInfo.courts.length}\n              </p>\n            </div>\n          </Popup>\n        )}\n      </Map>\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]\"\n      >\n        <div\n          style={{\n            clipPath:\n              \"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)\",\n          }}\n          className=\"relative left-[calc(50%+3rem)] aspect-1155/678 w-144.5 -translate-x-1/2 bg-linear-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%+36rem)] sm:w-288.75\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MapComponent;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AALA;;;;;;;AAQA,MAAM;AAEN,MAAM,eAAe;IACnB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAM;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,WAAW,MAAM,MACrB,2GAA0C;YAE5C,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU,KAAK,IAAI,GAAG,oDAAoD;QAC5E,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,OAAO;gBAAE,WAAW;gBAAU,WAAW;YAAO;;8BACnD,8OAAC,2LAAgB;;;;;8BACjB,8OAAC;8BAAG,EAAE;;;;;;;;;;;;IAGZ;IAEA,OACE,mDAAmD;kBACnD,8OAAC;;0BACC,8OAAC;gBACC,eAAY;gBACZ,WAAU;0BAEV,cAAA,8OAAC;oBACC,OAAO;wBACL,UACE;oBACJ;oBACA,WAAU;;;;;;;;;;;0BAGd,8OAAC,wNAAG;gBACF,kBAAkB;oBAChB,WAAW;oBACX,UAAU;oBACV,MAAM;gBACR;gBACA,4CAA4C;gBAC5C,OAAO;oBACL,UAAU;oBACV,OAAO;oBACP,QAAQ;gBACV;gBACA,iDAAiD;gBACjD,oEAAoE;gBACpE,UAAS;gBACT,mBAAmB;;oBAElB,OAAO,MAAM,GAAG,KACf,OAAO,GAAG,CAAC,CAAC,sBACV,8OAAC,yKAAM;4BAEL,WAAW,MAAM,WAAW,CAAC,EAAE;4BAC/B,UAAU,MAAM,WAAW,CAAC,EAAE;4BAC9B,QAAO;4BACP,SAAS,CAAC;gCACR,EAAE,aAAa,CAAC,eAAe,IAAI,oCAAoC;gCACvE,aAAa;4BACf;2BAPK,MAAM,UAAU;;;;;oBAW1B,2BACC,8OAAC,wKAAK;wBACJ,WAAW,UAAU,WAAW,CAAC,EAAE;wBACnC,UAAU,UAAU,WAAW,CAAC,EAAE;wBAClC,QAAO;wBACP,SAAS,IAAM,aAAa;wBAC5B,cAAc;wBACd,QAAQ,CAAC;kCAET,cAAA,8OAAC;;8CACC,8OAAC;8CAAI,UAAU,SAAS;;;;;;8CACxB,8OAAC;;wCACE,EAAE;wCAAkB;wCAAE,UAAU,MAAM,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;0BAMxD,8OAAC;gBACC,eAAY;gBACZ,WAAU;0BAEV,cAAA,8OAAC;oBACC,OAAO;wBACL,UACE;oBACJ;oBACA,WAAU;;;;;;;;;;;;;;;;;AAKpB;uCAEe","debugId":null}}]
}